<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ARASAKA // Android Systems</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
    body {
      font-family: 'Inter', sans-serif;
      background: whitesmoke;
      color: #1f2937; /* Changed default text to dark for better readability on light bg */
    }
    /* Add these styles inside your <style> tag in the <head> */

header {
  /* Add a smooth transition effect */
  transition: background-color 0.4s ease-out, color 0.4s ease-out;
}

/* New class for the header when the page is scrolled */
.header-scrolled {
  background-color: rgba(255, 255, 255, 0.9); /* Semi-transparent white */
  backdrop-filter: blur(10px); /* Frosted glass effect */
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  color: #000000; /* Black text */
}

/* Style for the nav links when header is scrolled */
.header-scrolled nav span {
  color: #000000;
}
.header-scrolled nav span:hover {
  color: #2563eb; /* Blue hover color */
}

/* Style for the icons when header is scrolled */
.header-scrolled button {
    color: #000000;
}
.header-scrolled button:hover {
    color: #2563eb; /* Blue hover color */
}
    .carousel-slide { min-width: 100%; transition: transform 0.7s ease-in-out; }
    .carousel-track { display: flex; transition: transform 0.7s ease-in-out; }
    .ai-chat-bubble { background: #161b22; border-left: 2px solid #58a6ff; color: #e5e7eb;} /* Added text color for AI bubble */

     /* Mega Menu Transition */
    #mega-menu-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 100vh;
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(20px);
  z-index: 45;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
  padding-top: 100px; /* so it doesn’t overlap navbar */
}


#mega-menu-overlay.active {
  opacity: 1;
  visibility: visible;
}
.mega-menu-panel {
  display: none;
}
.mega-menu-panel.active {
  display: block;
}
    /* Scrollbar styles for horizontal sliders */
    .scrollbar-thin::-webkit-scrollbar {
      height: 6px;
    }
    .scrollbar-thumb-gray-300::-webkit-scrollbar-thumb {
      background-color: #d1d5db;
      border-radius: 3px;
    }
    .scrollbar-track-gray-100::-webkit-scrollbar-track {
      background-color: #f3f4f6;
    }
    /* anchor dropdowns to their triggers */
.nav-item { position: relative; }

/* default: hidden */
.mega-menu { display: none; }

/* explicit open state (wins over Tailwind `hidden`) */
.mega-menu.open { display: block !important; }

  </style>
</head>

  <body class="overflow-x-hidden">

  <div id="mega-menu-overlay" class="fixed inset-0 bg-black/30 z-40 hidden"></div>

  <header class="fixed top-0 left-0 right-0 z-50 bg-transparent text-black">
    <div class="flex items-center justify-between w-full h-20 px-4 md:px-8">
      
      <div class="flex items-center">
        <img src="./images/logo1.png" alt="Arasaka" class="h-8 md:h-10 w-auto">
        <img src="./images/name1.png" alt="Arasaka" class="h-8 md:h-10 w-auto ml-2">
      </div>

      
<!-- Overlay -->
<div id="mega-menu-overlay" class="fixed inset-0 bg-black/30 z-40 hidden"></div>

<nav class="absolute left-1/2 transform -translate-x-1/2 hidden md:flex h-full items-center space-x-8 text-lg font-medium">
  <a href="Index.html" class="nav-trigger cursor-pointer text-black hover:text-blue-700 transition h-full flex items-center">Home</a>

  <!-- Domestic -->
  <div class="group nav-item h-full flex items-center">
    <span class="nav-trigger cursor-pointer text-black hover:text-blue-700 transition">Domestic</span>
    <div class="mega-menu absolute top-full left-1/2 -translate-x-1/2 mt-2 w-screen max-w-4xl z-50">
      <div class="bg-white/90 backdrop-blur-lg rounded-lg shadow-xl p-8">
        <div class="grid grid-cols-4 gap-6 text-center">
          <a href="echo11.html" class="hover:bg-gray-200/60 p-4 rounded-lg transition">
            <img src="./images/Robot1.png" alt="Echo-11" class="h-24 w-auto mx-auto mb-2 object-contain">
            <h4 class="font-semibold text-gray-900">Echo-11</h4>
            <p class="text-xs text-gray-600">House Assistant</p>
          </a>
          <a href="#" class="hover:bg-gray-200/60 p-4 rounded-lg transition">
            <img src="./images/model2.png" alt="Guardian-7" class="h-24 w-auto mx-auto mb-2 object-contain">
            <h4 class="font-semibold text-gray-900">Guardian-7</h4>
            <p class="text-xs text-gray-600">Security</p>
          </a>
          <a href="#" class="hover:bg-gray-200/60 p-4 rounded-lg transition">
            <img src="./images/news3.png" alt="Companion-X" class="h-24 w-auto mx-auto mb-2 object-contain">
            <h4 class="font-semibold text-gray-900">Companion-X</h4>
            <p class="text-xs text-gray-600">Daily Care</p>
          </a>
          <a href="#" class="hover:bg-gray-200/60 p-4 rounded-lg transition">
            <img src="./images/model4.png" alt="Medical-9" class="h-24 w-auto mx-auto mb-2 object-contain">
            <h4 class="font-semibold text-gray-900">Medical-9</h4>
            <p class="text-xs text-gray-600">Home & Clinics</p>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Industrial -->
  <div class="group nav-item h-full flex items-center">
    <span class="nav-trigger cursor-pointer text-black hover:text-blue-700 transition">Industrial</span>
    <div class="mega-menu absolute top-full left-1/2 -translate-x-1/2 mt-2 w-screen max-w-xl z-50">
      <div class="bg-white/90 backdrop-blur-lg rounded-lg shadow-xl p-8">
        <div class="grid grid-cols-2 gap-8 items-center">
          <a href="#" class="hover:bg-gray-200/60 p-4 rounded-lg transition text-center">
            <img src="./images/model5.png" alt="Industrial-X" class="h-28 w-auto mx-auto mb-2 object-contain">
            <h4 class="font-semibold text-gray-900">Industrial-X</h4>
            <p class="text-xs text-gray-600">Heavy-duty construction</p>
          </a>
          <div class="text-sm space-y-3 text-left">
            <h4 class="font-bold text-gray-800 mb-2">Industrial Solutions</h4>
            <a href="#" class="block hover:text-blue-700">Bulk Orders</a>
            <a href="#" class="block hover:text-blue-700">Fleet Management</a>
            <a href="#" class="block hover:text-blue-700">Support & Maintenance</a>
            <a href="#" class="block hover:text-blue-700">Custom Solutions</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Discover -->
  <div class="group nav-item h-full flex items-center">
    <span class="nav-trigger cursor-pointer text-black hover:text-blue-700 transition">Discover</span>
    <div class="mega-menu absolute top-full left-1/2 -translate-x-1/2 mt-2 w-screen max-w-md z-50">
      <div class="bg-white/90 backdrop-blur-lg rounded-lg shadow-xl p-8">
        <div class="grid grid-cols-2 gap-8 text-sm">
          <div class="space-y-3">
            <a href="#" class="block font-medium text-gray-800 hover:text-blue-700">About Arasaka</a>
            <a href="#" class="block font-medium text-gray-800 hover:text-blue-700">Current Offers</a>
            <a href="#" class="block font-medium text-gray-800 hover:text-blue-700">Lease a Model</a>
            <a href="#" class="block font-medium text-gray-800 hover:text-blue-700">Global Presence</a>
          </div>
          <div class="space-y-3">
            <a href="#" class="block font-medium text-gray-800 hover:text-blue-700">Contact</a>
            <a href="#" class="block font-medium text-gray-800 hover:text-blue-700">News</a>
            <a href="#" class="block font-medium text-gray-800 hover:text-blue-700">Privacy & Legal</a>
            <a href="#" class="block font-medium text-gray-800 hover:text-blue-700">Locations</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>


      <div class="flex items-center space-x-6">
        <button title="Support" class="hover:text-blue-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </button>
        <button title="Region" class="hover:text-blue-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2h10a2 2 0 002-2v-1a2 2 0 012-2h1.945M7.7 9a9 9 0 0110.6 0M12 21l-4-4m4 4l4-4" />
          </svg>
        </button>
        <button title="Account" class="hover:text-blue-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
        </button>
      </div>
    </div>
  </header>

  <section class="relative w-full h-screen overflow-hidden">
    <div id="carousel-track" class="carousel-track h-full">
      <div class="carousel-slide relative flex items-center justify-center bg-black text-white">
        <img src="./images/Robot1.png" class="absolute inset-0 w-full h-full object-cover opacity-60">
        <div class="relative z-10 text-center p-4">
          <h2 class="text-4xl md:text-5xl font-bold mb-6">Echo-11 // Domestic</h2>
          <p class="mb-6 text-lg">Perfect house assistant with advanced AI.</p>
          <div class="space-x-4">
          <a href="echo11.html" class="px-4 py-2 bg-blue-700 text-white rounded-full font-semibold hover:bg-blue-800 transition inline-block">
  Order Now
</a>

            <button class="px-6 py-3 border border-white rounded-full font-semibold">Learn More</button>
          </div>
        </div>
      </div>
      <div class="carousel-slide relative flex items-center justify-center bg-black text-white">
        <img src="./images/model2.png" class="absolute inset-0 w-full h-full object-cover opacity-60">
        <div class="relative z-10 text-center p-4">
          <h2 class="text-4xl md:text-5xl font-bold mb-6">Guardian-7 // Security</h2>
          <p class="mb-6 text-lg">Advanced perimeter defense with 24/7 monitoring.</p>
          <div class="space-x-4">
            <button class="px-6 py-3 bg-white text-black rounded-full font-semibold">Order Now</button>
            <button class="px-6 py-3 border border-white rounded-full font-semibold">Learn More</button>
          </div>
        </div>
      </div>
      <div class="carousel-slide relative flex items-center justify-center bg-black text-white">
        <img src="./images/news3.png" class="absolute inset-0 w-full h-full object-cover opacity-60">
        <div class="relative z-10 text-center p-4">
          <h2 class="text-4xl md:text-5xl font-bold mb-6">Industrial-X</h2>
          <p class="mb-6 text-lg">Heavy-duty android for industry and construction.</p>
          <div class="space-x-4">
            <button class="px-6 py-3 bg-white text-black rounded-full font-semibold">Order Now</button>
            <button class="px-6 py-3 border border-white rounded-full font-semibold">Learn More</button>
          </div>
        </div>
      </div>
    </div>
  </section>

<section class="max-w-7xl mx-auto py-20 px-8">
  <h3 class="text-3xl font-bold text-center mb-12">Our Models</h3>
  <!-- Horizontal scrollable slider  -->
  <div class="flex space-x-6 overflow-x-auto pb-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100">
    <!-- Model 1 -->
    <div class="min-w-[300px] bg-white p-6 rounded-lg border border-gray-200 shadow-sm flex flex-col items-center">
      <img src="./images/Robot1.png" alt="Echo-11" class="h-40 w-auto mb-4 rounded-lg object-contain bg-gray-50">
      <h4 class="text-xl font-semibold mb-2 text-gray-900">Echo-11</h4>
      <p class="text-gray-600 text-sm mb-4 text-center">Perfect house assistant with advanced AI.</p>
      <a href="echo11.html" class="px-4 py-2 bg-blue-700 text-white rounded-full font-semibold hover:bg-blue-800 transition inline-block">
  Order Now
</a>
    </div>
    <!-- Model 2 -->
    <div class="min-w-[300px] bg-white p-6 rounded-lg border border-gray-200 shadow-sm flex flex-col items-center">
      <img src="./images/model2.png" alt="Guardian-7" class="h-40 w-auto mb-4 rounded-lg object-contain bg-gray-50">
      <h4 class="text-xl font-semibold mb-2 text-gray-900">Guardian-7</h4>
      <p class="text-gray-600 text-sm mb-4 text-center">Advanced perimeter defense with 24/7 monitoring.</p>
      <button class="px-4 py-2 bg-blue-700 text-white rounded-full font-semibold hover:bg-blue-800 transition">Order Now</button>
    </div>
    <!-- Model 3 -->
    <div class="min-w-[300px] bg-white p-6 rounded-lg border border-gray-200 shadow-sm flex flex-col items-center">
      <img src="./images/companion.jpeg" alt="Companion-X" class="h-40 w-auto mb-4 rounded-lg object-contain bg-gray-50">
      <h4 class="text-xl font-semibold mb-2 text-gray-900">Companion-X</h4>
      <p class="text-gray-600 text-sm mb-4 text-center">Your friendly companion for daily life and care.</p>
      <button class="px-4 py-2 bg-blue-700 text-white rounded-full font-semibold hover:bg-blue-800 transition">Order Now</button>
    </div>
    <!-- Model 4 -->
    <div class="min-w-[300px] bg-white p-6 rounded-lg border border-gray-200 shadow-sm flex flex-col items-center">
      <img src="./images/medical.jpeg" alt="Medical-9" class="h-40 w-auto mb-4 rounded-lg object-contain bg-gray-50">
      <h4 class="text-xl font-semibold mb-2 text-gray-900">Medical-9</h4>
      <p class="text-gray-600 text-sm mb-4 text-center">Expert medical android for home and clinics.</p>
      <button class="px-4 py-2 bg-blue-700 text-white rounded-full font-semibold hover:bg-blue-800 transition">Order Now</button>
    </div>
    <!-- Model 5 -->
    <div class="min-w-[300px] bg-white p-6 rounded-lg border border-gray-200 shadow-sm flex flex-col items-center">
      <img src="./images/industrial.jpeg" alt="Industrial-X" class="h-40 w-auto mb-4 rounded-lg object-contain bg-gray-50">
      <h4 class="text-xl font-semibold mb-2 text-gray-900">Industrial-X</h4>
      <p class="text-gray-600 text-sm mb-4 text-center">Heavy-duty android for industry and construction.</p>
      <button class="px-4 py-2 bg-blue-700 text-white rounded-full font-semibold hover:bg-blue-800 transition">Order Now</button>
    </div>
  </div>
</section>

<!-- Two horizontal cards section (like the image you provided) -->
<section class="max-w-7xl mx-auto px-8 flex flex-col md:flex-row gap-8 mb-20">
  <!-- Card 1 -->
  <div class="flex flex-1 bg-gray-100 rounded-xl overflow-hidden shadow-md">
    <div class="flex flex-col justify-center flex-1 p-8">
      <h4 class="text-2xl font-bold mb-2 text-gray-900">Current Offers</h4>
      <p class="text-gray-700 mb-6">Limited inventory. Take delivery today.</p>
      <button class="bg-white px-6 py-3 rounded-md font-semibold shadow hover:bg-gray-200 transition w-40">Learn More</button>
    </div>
    <div class="flex-shrink-0 w-1/2 md:w-72 flex items-center justify-center bg-gray-200">
      <img src="./images/gemini.png" alt="Current Offers" class="object-contain h-40 w-full">
    </div>
  </div>
  <!-- Card 2 -->
  <div class="flex flex-1 bg-gray-100 rounded-xl overflow-hidden shadow-md">
    <div class="flex flex-col justify-center flex-1 p-8">
      <h4 class="text-2xl font-bold mb-2 text-gray-900">Lease a Model</h4>
      <p class="text-gray-700 mb-6">Explore lease pricing for Echo-11 and Guardian-7, starting from $299/mo.</p>
      <button class="bg-white px-6 py-3 rounded-md font-semibold shadow hover:bg-gray-200 transition w-40">Compare</button>
    </div>
    <div class="flex-shrink-0 w-1/2 md:w-72 flex items-center justify-center bg-gray-200">
      <img src="./images/gemini2.png" alt="Lease a Model" class="object-contain h-40 w-full">
    </div>
  </div>
</section>

  <aside class="fixed bottom-28 left-8 w-80 z-20 hidden md:block">
    <div class="bg-[#161b22] p-6 rounded-lg border border-gray-700 shadow-xl">
      <h2 class="text-xl font-bold text-blue-400 mb-4">AI Assistant // PROTOCOL-7</h2>
      <div id="ai-chat" class="ai-chat-bubble p-4 rounded-lg text-sm">
        <p id="ai-message">Welcome. Scroll to explore Arasaka’s models.</p>
      </div>
    </div>
  </aside>

  <section class="w-full h-[500px] bg-black flex items-center justify-center">
    <video autoplay loop muted playsinline class="w-full h-full object-cover">
      <source src="./videos/Cyberpunk_Arasaka_Ascension_Video.mp4" type="video/mp4">
    </video>
  </section>
  <section class="max-w-7xl mx-auto py-20 px-8 text-center">
    <h3 class="text-3xl font-bold mb-4">Arasaka Global Presence</h3>
    <p class="text-gray-600 mb-12">Explore our key operational hubs across the globe.</p>
    <!-- Embedded map -->
    <div class="w-full h-[500px] bg-gray-200 rounded-lg shadow-md border border-gray-300">
       <iframe
    src="./map.html"
    width="100%"
    height="500"
    style="border:0;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade">
  </iframe>
    </div>
  </section>

  <footer class="pb-24"> <div class="max-w-4xl mx-auto px-8 py-10 text-center text-xs text-gray-500 space-y-6">
      <p>
        Product features, specifications, and availability are subject to change without notice. All models are subject to regional regulations and certification. Consult a tax professional regarding your personal eligibility for any credits.
      </p>
      <nav class="flex justify-center items-center space-x-6 font-medium text-gray-700">
        <a href="#" class="hover:underline">Arasaka © 2025</a>
        <a href="#" class="hover:underline">Privacy & Legal</a>
        <a href="#" class="hover:underline">Contact</a>
        <a href="#" class="hover:underline">News</a>
        <a href="#" class="hover:underline">Locations</a>
      </nav>
    </div>

    <div class="fixed bottom-0 left-0 right-0 z-40 bg-white/80 backdrop-blur-sm border-t border-gray-200">
      <div class="max-w-4xl mx-auto flex justify-center items-center p-3 space-x-4">
        <div class="flex items-center bg-gray-100 hover:bg-gray-200 transition rounded-md p-2 w-full max-w-sm">
          <svg class="w-6 h-6 text-gray-500 mx-2" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.455.09-.934.09-1.425v-2.134c0-2.639 1.975-4.875 4.5-5.25z" />
          </svg>
          
          <button id="open-chat-btn" class="flex items-center bg-gray-100 hover:bg-gray-200 transition rounded-md p-3 w-full max-w-sm text-left">
          <svg class="w-6 h-6 text-gray-500 mr-3" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.455.09-.934.09-1.425v-2.134c0-2.639 1.975-4.875 4.5-5.25z" />
          </svg>
          <span class="text-gray-600">Ask a Question...</span>
        </button>
        </div>
        <button class="flex items-center space-x-2 bg-gray-100 text-gray-800 font-medium px-6 py-2 rounded-md hover:bg-gray-200 transition whitespace-nowrap">
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18" />
          </svg>
          <span>Book a Demo</span>
        </button>
      </div>
    </div>
  </footer>

  <script>
    

// --- Dynamic Header Script ---
const header = document.querySelector('header');

window.addEventListener('scroll', () => {
  // Add the .header-scrolled class when scrolled more than 50 pixels
  if (window.scrollY > 50) {
    header.classList.add('header-scrolled');
  } else {
    // Remove it when back at the top
    header.classList.remove('header-scrolled');
  }
});
    // Auto carousel
    const track = document.getElementById('carousel-track');
    let index = 0;
    setInterval(() => {
      index = (index + 1) % 3;
      track.style.transform = `translateX(-${index * 100}%)`;
    }, 5000);
    const modelsSlider = document.getElementById('models-slider');
  let modelIndex = 0;
  const modelCards = modelsSlider.children.length;
  setInterval(() => {
    modelIndex = (modelIndex + 1) % modelCards;
    modelsSlider.scrollTo({
      left: modelIndex * modelsSlider.children[0].offsetWidth + modelIndex * 24, // 24px = space-x-6
      behavior: 'smooth'
    });
  }, 3500);
    // AI Assistant responses
    const aiMessage = document.getElementById('ai-message');
    window.addEventListener('scroll', () => {
      if (window.scrollY < 300) {
        aiMessage.textContent = "Welcome. Scroll to explore Arasaka’s models.";
      } else if (window.scrollY < 900) {
        aiMessage.textContent = "Here are our featured androids for domestic and industrial use.";
      } else if (window.scrollY < 1500) {
        aiMessage.textContent = "Observe: a glimpse of our AI capabilities in motion.";
      } else {
        aiMessage.textContent = "Interested? Secure your future. Book a demo today.";
      }
    });
    document.querySelectorAll('.nav-item').forEach(item => {
    const menu = item.querySelector('.mega-menu');
    const overlay = document.getElementById('mega-menu-overlay');

    item.addEventListener('mouseenter', () => {
      menu.classList.remove('hidden');
      overlay.classList.remove('hidden');
    });

    item.addEventListener('mouseleave', () => {
      menu.classList.add('hidden');
      overlay.classList.add('hidden');
    });

    overlay.addEventListener('mouseenter', () => {
      menu.classList.add('hidden');
      overlay.classList.add('hidden');
    });
  });
    const openChatBtn = document.getElementById('open-chat-btn');
    const closeChatBtn = document.getElementById('close-chat-btn');
    const footerChatbox = document.getElementById('footer-chatbox');

    openChatBtn.addEventListener('click', () => {
      footerChatbox.classList.remove('hidden');
    });

    closeChatBtn.addEventListener('click', () => {
      footerChatbox.classList.add('hidden');
    });
    (() => {
  const overlay = document.getElementById('mega-menu-overlay');
  const items = document.querySelectorAll('.nav-item');

  const closeAll = () => {
    document.querySelectorAll('.mega-menu.open').forEach(m => m.classList.remove('open'));
    overlay?.classList.add('hidden');
  };

  items.forEach(item => {
    const trigger = item.querySelector('.nav-trigger');
    const menu = item.querySelector('.mega-menu');
    if (!menu) return;

    // Desktop hover
    item.addEventListener('pointerenter', () => {
      closeAll();
      menu.classList.add('open');
      overlay?.classList.remove('hidden');
    });

    const safeClose = () => {
      // small delay avoids flicker when moving between trigger and panel
      setTimeout(() => {
        if (!item.matches(':hover') && !menu.matches(':hover')) closeAll();
      }, 60);
    };
    item.addEventListener('pointerleave', safeClose);
    menu.addEventListener('pointerleave', safeClose);

    // Mobile tap toggle
    if (trigger) {
      trigger.addEventListener('click', (e) => {
        if (window.matchMedia('(hover: none)').matches) {
          e.preventDefault();
          const isOpen = menu.classList.contains('open');
          closeAll();
          if (!isOpen) {
            menu.classList.add('open');
            overlay?.classList.remove('hidden');
          }
        }
      });
    }
  });

  overlay?.addEventListener('click', closeAll);
  window.addEventListener('scroll', closeAll); // hides menu on scroll like Tesla
  window.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeAll(); });
})();
  </script>
</body>
</html>